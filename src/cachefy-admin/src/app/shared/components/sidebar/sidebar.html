<aside class="sidebar card">
  <nav class="nav">
    <a [routerLink]="'/dashboard'" [routerLinkActive]="'active'">
      <span class="nav-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M3 12h18M3 6h18M3 18h18"
          />
        </svg>
      </span>
      <div>
        <div class="text-sm">Dashboard</div>
        <div class="text-xs text-slate-400">Overview & metrics</div>
      </div>
    </a>

    @if (canAccessSettings()) {
    <a [routerLink]="'/settings'" [routerLinkActive]="'active'">
      <span class="nav-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <rect
            x="2"
            y="7"
            width="20"
            height="4"
            rx="1"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <rect
            x="2"
            y="13"
            width="20"
            height="4"
            rx="1"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <circle cx="6" cy="9" r="1" fill="currentColor" />
          <circle cx="6" cy="15" r="1" fill="currentColor" />
          <rect
            x="2"
            y="3"
            width="20"
            height="2"
            rx="1"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <rect
            x="2"
            y="19"
            width="20"
            height="2"
            rx="1"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </span>
      <div>
        <div class="text-sm">Agents Settings</div>
        <div class="text-xs text-slate-400">Agents management</div>
      </div>
    </a>
    }

    <a [routerLink]="'/services'" [routerLinkActive]="'active'">
      <span class="nav-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path
            d="M12 2l3 7h7l-5.5 4 2 7L12 16l-6.5 4 2-7L2 9h7z"
            stroke-width="2"
            stroke-linejoin="round"
          />
        </svg>
      </span>
      <div>
        <div class="text-sm">Services</div>
        <div class="text-xs text-slate-400">List of Services registered</div>
      </div>
    </a>

    @if (isAdmin()) {
    <a [routerLink]="'/users'" [routerLinkActive]="'active'">
      <span class="nav-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path
            d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <circle
            cx="9"
            cy="7"
            r="4"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M23 21v-2a4 4 0 0 0-3-3.87"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M16 3.13a4 4 0 0 1 0 7.75"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </span>
      <div>
        <div class="text-sm">Manage Users</div>
        <div class="text-xs text-slate-400">User and access management</div>
      </div>
    </a>
    }
  </nav>

  <div style="margin-top: 18px">
    <div style="display: flex; justify-content: space-between; align-items: center">
      <div>
        <div style="font-size: 12px; color: var(--muted)">Status</div>
        <div
          style="font-weight: 700; display: flex; align-items: center; gap: 6px"
          [style.color]="healthStatus() === 'healthy' ? '#10b981' : '#f97316'"
        >
          @if (healthStatus() === 'healthy') {
          <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2.5"
              d="M5 13l4 4L19 7"
            />
          </svg>
          } @else {
          <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2.5"
              d="M6 18L18 6M6 6l12 12"
            />
          </svg>
          }
          {{ healthStatus() === 'healthy' ? 'Healthy' : 'Unhealthy' }}
        </div>
      </div>
      <div style="text-align: right; font-size: 12px; color: var(--muted)">v0.1</div>
    </div>
  </div>
</aside>
